(this["webpackJsonpfront-diplom"]=this["webpackJsonpfront-diplom"]||[]).push([[0],{15:function(e,t,n){e.exports={cnvs_bg:"MyCanvas_cnvs_bg__1ylOa",cnvs_fg:"MyCanvas_cnvs_fg__2bqtf",drpdwn:"MyCanvas_drpdwn__3aVsC","drpdwn-active":"MyCanvas_drpdwn-active__Hl9Wv",cnvs_save:"MyCanvas_cnvs_save__2mGpW"}},18:function(e,t,n){e.exports={sideNav:"MySideNav_sideNav__2Fl86"}},30:function(e,t,n){},31:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(10),i=n.n(s),r=(n(30),n(31),n(22)),o=n(6),d=n(15),l=n.n(d),j=(n(32),n(18)),m=n.n(j),v=n(5),b=n.n(v),u=n(3),h=function(e){var t=e.children,n=Object(c.useState)(!0),a=Object(o.a)(n,2),s=a[0],i=a[1];return Object(u.jsxs)(b.a,{className:m.a.sideNav,children:[Object(u.jsx)(b.a.Toggle,{onClick:function(){i(!s)}}),Object(u.jsx)(b.a.Nav,{children:t})]})},x=n.p+"static/media/box-arrow-in-down.4d5ac51f.svg",O=n.p+"static/media/box-arrow-down.8303b01f.svg",g=n.p+"static/media/brush.7071756d.svg",f=n.p+"static/media/eraser.4f781844.svg",p=n.p+"static/media/square.469d3ad2.svg",N=n.p+"static/media/triangle.ddb6eff2.svg",y=n.p+"static/media/circle.ae80814a.svg",I=(n(39),function(e){var t=e.active,n=e.setActive,c=e.children;return Object(u.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return n(!1)},children:Object(u.jsx)("div",{className:t?"modal__content active":"modal__content",onClick:function(e){return e.stopPropagation()},children:c})})}),E=n(7),w=n(21),_=n.p+"static/media/456.9220fa8a.PNG",k=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(o.a)(s,2),d=i[0],j=i[1],m=Object(c.useState)(!1),b=Object(o.a)(m,2),k=b[0],B=b[1],C=Object(c.useState)(!1),L=Object(o.a)(C,2),S=L[0],T=L[1],M=Object(c.useState)(!1),D=Object(o.a)(M,2),P=D[0],A=D[1],W=Object(c.useState)(!1),z=Object(o.a)(W,2),F=(z[0],z[1]),q=Object(c.useState)(!1),G=Object(o.a)(q,2),J=(G[0],G[1]),R=Object(c.useState)(10),H=Object(o.a)(R,2),U=H[0],V=H[1],X=Object(c.useState)(20),Y=Object(o.a)(X,2),K=Y[0],Q=Y[1],Z=Object(c.useState)("#aabbcc"),$=Object(o.a)(Z,2),ee=$[0],te=$[1];function ne(e){e.preventDefault(),T(!0)}function ce(e){e.preventDefault(),T(!1)}function ae(e){var t=e.toDataURL(),n=new Image;return n.src=t,n.crossOrigin="Anonymous",n}window.addEventListener("load",(function(){document.querySelector(".authWindow").style.display="none";var e=document.getElementById("bg").getContext("2d"),t=document.getElementById("fg"),n=t.getContext("2d"),c=document.getElementById("readyimg").getContext("2d"),a=new Image;a.src=_,a.addEventListener("load",(function(){e.canvas.width=a.width,e.canvas.height=a.height,n.canvas.width=a.width,n.canvas.height=a.height,c.canvas.width=a.width,c.canvas.height=a.height,e.drawImage(a,0,0)})),e.webkitImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1,e.imageSmoothingEnabled=!1;var s=[],i=0,r=0,o=!1,d=function(e){i=e.offsetX,r=e.offsetY},l=function(e){d(e),o=!0,n.beginPath(),n.moveTo(i,r),s.push({x:i,y:r,mode:"begin"})},j=function(e){d(e),o&&(n.lineTo(i,r),n.stroke(),s.push({x:i,y:r,mode:"draw"}))},m=function(e){d(e),o=!1,s.push({x:i,y:r,mode:"end"})},v=[],b=function(){n.globalCompositeOperation="source-over",t.removeEventListener("mousedown",l),t.removeEventListener("mousemove",j),t.removeEventListener("mouseup",m)},u=function e(c){console.log(v),d(c),v.push({x:i,y:r}),3===v.length&&(o=!0,n.beginPath(),n.moveTo(v[0].x,v[0].y),n.lineTo(v[1].x,v[1].y),n.lineTo(v[2].x,v[2].y),n.closePath(),n.stroke(),o=!1,t.removeEventListener("click",e),v.length=0)},h=function e(c){if(console.log(v),d(c),v.push({x:i,y:r}),2===v.length){o=!0;var a=Math.abs(v[1].x-v[0].x),s=Math.abs(v[1].y-v[0].y);n.strokeRect(v[0].x,v[0].y,a,s),o=!1,t.removeEventListener("click",e),v.length=0}},x=function e(c){if(console.log(v),d(c),v.push({x:i,y:r}),2===v.length){o=!0;var a=Math.abs(v[1].x-v[0].x);n.beginPath(),n.arc(v[0].x,v[0].y,a,0,2*Math.PI,!1),n.closePath(),n.stroke(),o=!1,t.removeEventListener("click",e),v.length=0}};document.getElementById("triangleBtn").addEventListener("click",(function(){b(),t.addEventListener("click",u)})),document.getElementById("rectBtn").addEventListener("click",(function(){b(),t.addEventListener("click",h)})),document.getElementById("circleBtn").addEventListener("click",(function(){b(),t.addEventListener("click",x)})),document.getElementById("mybrushBtn").addEventListener("click",(function(){n.globalCompositeOperation="source-over",t.addEventListener("mousedown",l),t.addEventListener("mousemove",j),t.addEventListener("mouseup",m)})),document.getElementById("eraseBtn").addEventListener("click",(function(){t.addEventListener("mousedown",l),t.addEventListener("mousemove",j),t.addEventListener("mouseup",m),n.globalCompositeOperation="destination-out"}))}));return Object(u.jsxs)("div",{children:[Object(u.jsxs)(h,{children:[Object(u.jsxs)(v.NavItem,{className:"navItem",onClick:function(){return a(!0)},children:[Object(u.jsx)(v.NavIcon,{children:Object(u.jsx)("img",{className:"icon1",alt:"icon1",src:x})}),Object(u.jsx)(v.NavText,{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]}),Object(u.jsxs)(v.NavItem,{onClick:function(){var e=document.getElementById("readyimg"),t=document.getElementById("fg"),n=ae(document.getElementById("bg")),c=ae(t),a=e.getContext("2d");n.onload=function(){a.drawImage(n,0,0),c.onload=function(){a.drawImage(c,0,0),function(e){var t=document.createElement("a");t.setAttribute("href",e.src),t.setAttribute("download","canvasImage"),t.click()}(ae(e))}}},children:[Object(u.jsx)(v.NavIcon,{children:Object(u.jsx)("img",{alt:"save",src:O})}),Object(u.jsx)(v.NavText,{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(u.jsxs)(v.NavItem,{className:"navItem",id:"mybrushBtn",onClick:function(){return j(!0)},children:[Object(u.jsx)(v.NavIcon,{children:Object(u.jsx)("img",{alt:"Brush",src:g})}),Object(u.jsx)(v.NavText,{children:"\u041a\u0438\u0441\u0442\u044c"})]}),Object(u.jsxs)(v.NavItem,{className:"navItem",id:"eraseBtn",onClick:function(){return B(!0)},children:[Object(u.jsx)(v.NavIcon,{children:Object(u.jsx)("img",{alt:"Eraser",src:f})}),Object(u.jsx)(v.NavText,{children:"\u041b\u0430\u0441\u0442\u0438\u043a"})]}),Object(u.jsxs)(v.NavItem,{className:"navItem",id:"rectBtn",children:[Object(u.jsx)(v.NavIcon,{children:Object(u.jsx)("img",{className:"icon1",alt:"rect",src:p})}),Object(u.jsx)(v.NavText,{children:"\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a"})]}),Object(u.jsxs)(v.NavItem,{className:"navItem",id:"triangleBtn",children:[Object(u.jsx)(v.NavIcon,{children:Object(u.jsx)("img",{className:"icon1",alt:"triangle",src:N})}),Object(u.jsx)(v.NavText,{children:"\u0422\u0440\u0435\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a"})]}),Object(u.jsxs)(v.NavItem,{className:"navItem",id:"circleBtn",children:[Object(u.jsx)(v.NavIcon,{children:Object(u.jsx)("img",{className:"icon1",alt:"circle",src:y})}),Object(u.jsx)(v.NavText,{children:"\u041a\u0440\u0443\u0433"})]}),Object(u.jsxs)(v.NavItem,{className:"navItem",id:"rotateBtn",onClick:function(){return A(!0)},children:[Object(u.jsx)(v.NavIcon,{children:Object(u.jsx)("img",{className:"icon1",alt:"rotate",src:y})}),Object(u.jsx)(v.NavText,{children:"\u041f\u043e\u0432\u043e\u0440\u043e\u0442"})]}),Object(u.jsxs)(v.NavItem,{className:"navItem",id:"cropBtn",children:[Object(u.jsx)(v.NavIcon,{children:Object(u.jsx)("img",{className:"icon1",alt:"crop",src:y})}),Object(u.jsx)(v.NavText,{children:"\u041e\u0431\u0440\u0435\u0437\u043a\u0430"})]})]}),Object(u.jsx)("form",{id:"form",action:"",method:"post",children:Object(u.jsxs)("div",{className:"paint-canvas",onMouseOver:function(){J(!1),F(!1)},children:[Object(u.jsx)("canvas",{id:"bg",className:l.a.cnvs_bg}),Object(u.jsx)("canvas",{id:"fg",className:l.a.cnvs_fg}),Object(u.jsx)("canvas",{id:"readyimg",className:l.a.cnvs_save}),Object(u.jsx)("input",{id:"canvas_img",type:"hidden",name:"canvas_img",value:""})]})}),Object(u.jsxs)(I,{active:n,setActive:a,children:[Object(u.jsx)(E.b,{action:"/fileload",encType:"multipart/form-data",method:"post",children:Object(u.jsxs)(E.c,{children:[Object(u.jsx)(E.e,{for:"loadFile",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u0430\u0439\u043b"}),Object(u.jsx)(E.d,{id:"loadFile",name:"uploadedFile",type:"file"}),Object(u.jsx)(E.a,{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})}),Object(u.jsx)("div",{className:"text-between",children:"\u0438\u043b\u0438"}),S?Object(u.jsx)("div",{className:"drop-area",onDragStart:function(e){return ne(e)},onDragLeave:function(e){return ce(e)},onDragOver:function(e){return ne(e)},onDrop:function(e){return function(e){e.preventDefault();var t=Object(r.a)(e.dataTransfer.files);console.log(t),T(!1)}(e)},children:"\u041e\u0442\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0444\u0430\u0439\u043b"}):Object(u.jsx)("div",{className:"drop-area",onDragStart:function(e){return ne(e)},onDragLeave:function(e){return ce(e)},onDragOver:function(e){return ne(e)},children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043b \u0441\u044e\u0434\u0430"})]}),Object(u.jsx)(I,{active:P,setActive:A,children:Object(u.jsx)(E.a,{children:Object(u.jsx)("img",{src:"",alt:"rotateOnClock"})})}),Object(u.jsxs)(I,{active:d,setActive:j,children:[Object(u.jsx)("div",{children:"\u0420\u0430\u0437\u043c\u0435\u0440"}),Object(u.jsx)(E.d,{id:"brushSize",name:"range",type:"range",min:"0",max:"100",onChange:function(){var e=document.getElementById("fg").getContext("2d"),t=document.getElementById("brushSize");V(t.value),e.lineWidth=U},value:U}),Object(u.jsx)("div",{children:"\u0426\u0432\u0435\u0442"}),Object(u.jsx)(w.a,{color:ee,onChange:te}),Object(u.jsx)(E.a,{onClick:function(){document.getElementById("fg").getContext("2d").strokeStyle=ee},children:"\u041f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u0446\u0432\u0435\u0442"})]}),Object(u.jsxs)(I,{active:k,setActive:B,children:[Object(u.jsx)("div",{children:"\u0420\u0430\u0437\u043c\u0435\u0440"}),Object(u.jsx)(E.d,{id:"eraseSize",name:"range",type:"range",min:"0",max:"100",onChange:function(){var e=document.getElementById("fg").getContext("2d"),t=document.getElementById("eraseSize");Q(t.value),e.lineWidth=K},value:K})]})]})},B=n(23),C=n(4),L=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("div",{className:"authWindow",children:Object(u.jsxs)(E.b,{id:"auth",children:[Object(u.jsxs)(E.c,{children:[Object(u.jsx)(E.e,{for:"exampleEmail",children:"Email"}),Object(u.jsx)(E.d,{id:"exampleEmail",name:"email",placeholder:"\u0412\u0430\u0448\u0430 \u043f\u043e\u0447\u0442\u0430",type:"email"})]}),Object(u.jsxs)(E.c,{children:[Object(u.jsx)(E.e,{for:"examplePassword",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsx)(E.d,{id:"examplePassword",name:"password",placeholder:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password"})]}),Object(u.jsx)(E.a,{id:"login",children:Object(u.jsx)("a",{href:"/canvas",children:"\u0412\u043e\u0439\u0442\u0438"})})]})}),Object(u.jsx)(B.a,{children:Object(u.jsx)(C.c,{children:Object(u.jsx)(C.a,{path:"/canvas",element:Object(u.jsx)(k,{})})})})]})};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(L,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f2ced4cb.chunk.js.map