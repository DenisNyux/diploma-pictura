{"version":3,"sources":["Components/MyCanvas.module.css","Components/MySideNav.module.css","Components/MySideNav.jsx","Components/box-arrow-in-down.svg","Components/box-arrow-down.svg","Components/brush.svg","Components/eraser.svg","Components/square.svg","Components/triangle.svg","Components/circle.svg","Components/Modal/Modal.jsx","Components/456.PNG","Components/MyCanvas.jsx","App.jsx","index.js"],"names":["module","exports","MySideNav","children","useState","isVisible","setVisible","className","classes","sideNav","Toggle","onClick","Nav","Modal","active","setActive","e","stopPropagation","MyCanvas","loadModalActive","setLoadModalActive","brushModalActive","setBrushModalActive","eraseModalActive","setEraseModalActive","drag","setDrag","rotateModalActive","setRotateModalActive","setOpenErase","setOpenBrush","brushVal","setBrushVal","eraseVal","setEraseVal","color","setColor","dragStartHandler","preventDefault","dragLeaveHandler","getImage","canvas","imageData","toDataURL","image","Image","src","crossOrigin","window","addEventListener","document","querySelector","style","display","ctxBg","getElementById","getContext","canvasFg","ctxFg","ctxSave","img","myimg","width","height","drawImage","webkitImageSmoothingEnabled","msImageSmoothingEnabled","imageSmoothingEnabled","points","mouseX","mouseY","isDrawing","setMouseCoordinates","offsetX","offsetY","mouseDown","beginPath","moveTo","push","x","y","mode","mouseMove","lineTo","stroke","mouseUp","coord","removeListeners","globalCompositeOperation","removeEventListener","mouseTriCoordEvent","console","log","length","closePath","mouseRectCoordEvent","rectWidth","Math","abs","rectHeight","strokeRect","mouseCircleCoordEvent","radius","arc","PI","alt","iconLoad","canvasSave","img1","img2","ctx","onload","link","createElement","setAttribute","click","saveImage","iconSave","id","iconBrush","iconEraser","iconRect","iconTri","iconCircle","action","method","onMouseOver","cnvs_bg","cnvs_fg","cnvs_save","type","name","value","encType","for","onDragStart","onDragLeave","onDragOver","onDrop","files","dataTransfer","onDropHandler","min","max","onChange","brushInp","lineWidth","strokeStyle","eraseInp","App","placeholder","href","path","element","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f2ced4cb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cnvs_bg\":\"MyCanvas_cnvs_bg__1ylOa\",\"cnvs_fg\":\"MyCanvas_cnvs_fg__2bqtf\",\"drpdwn\":\"MyCanvas_drpdwn__3aVsC\",\"drpdwn-active\":\"MyCanvas_drpdwn-active__Hl9Wv\",\"cnvs_save\":\"MyCanvas_cnvs_save__2mGpW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideNav\":\"MySideNav_sideNav__2Fl86\"};","import \"@trendmicro/react-sidenav/dist/react-sidenav.css\";\r\nimport React, { useState } from 'react';\r\nimport classes from './MySideNav.module.css';\r\nimport SideNav from \"@trendmicro/react-sidenav\";\r\n\r\nexport const MySideNav = ({children}) => {\r\n  const [isVisible, setVisible] = useState(true);\r\n\r\n    return (\r\n      \r\n      <SideNav className={classes.sideNav}>\r\n        <SideNav.Toggle\r\n          onClick={() => {\r\n            setVisible(!isVisible);\r\n          }}\r\n        />\r\n        <SideNav.Nav>\r\n          {children}\r\n        </SideNav.Nav>\r\n      </SideNav>\r\n    );\r\n}\r\n\r\nexport default MySideNav;","export default __webpack_public_path__ + \"static/media/box-arrow-in-down.4d5ac51f.svg\";","export default __webpack_public_path__ + \"static/media/box-arrow-down.8303b01f.svg\";","export default __webpack_public_path__ + \"static/media/brush.7071756d.svg\";","export default __webpack_public_path__ + \"static/media/eraser.4f781844.svg\";","export default __webpack_public_path__ + \"static/media/square.469d3ad2.svg\";","export default __webpack_public_path__ + \"static/media/triangle.ddb6eff2.svg\";","export default __webpack_public_path__ + \"static/media/circle.ae80814a.svg\";","import React from 'react'\r\nimport \"./modal.css\";\r\n\r\nconst Modal = ({active, setActive, children}) => {\r\n    return (\r\n        <div className={active ? \"modal active\" : \"modal\"} onClick={() => setActive(false)}>\r\n            <div className={active ? \"modal__content active\" : \"modal__content\"} onClick={e => e.stopPropagation()}>\r\n            {children}\r\n            </div>\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Modal\r\n","export default __webpack_public_path__ + \"static/media/456.9220fa8a.PNG\";","import classes from './MyCanvas.module.css';\r\nimport MySideNav from './MySideNav';\r\n//import Dropdown from './Dropdown';\r\nimport {\r\n\tNavItem,\r\n\tNavIcon,\r\n\tNavText\r\n  } from \"@trendmicro/react-sidenav\";\r\nimport iconLoad from './box-arrow-in-down.svg';\r\nimport iconSave from './box-arrow-down.svg';\r\nimport iconBrush from './brush.svg';\r\nimport iconEraser from './eraser.svg';\r\nimport iconRect from './square.svg';\r\nimport iconTri from './triangle.svg';\r\nimport iconCircle from './circle.svg';\r\nimport React, { useState } from 'react';\r\nimport Modal from './Modal/Modal';\r\nimport { Form, FormGroup, Label, Input, Button, Dropdown, DropdownToggle, DropdownItem, DropdownMenu} from 'reactstrap';\r\nimport { HexColorPicker } from \"react-colorful\";\r\nimport myimg from './456.PNG';\r\n//import \"react-colorful/dist/index.css\";\r\n\r\n\r\n\r\nexport const MyCanvas = () => {\r\n\tconst [loadModalActive, setLoadModalActive] = useState(false); // состояние модального окна\r\n\tconst [brushModalActive, setBrushModalActive] = useState(false); \r\n\tconst [eraseModalActive, setEraseModalActive] = useState(false);\r\n\tconst [drag, setDrag] = useState(false); // состояние перетаскивания\r\n\tconst [rotateModalActive, setRotateModalActive] = useState(false);\r\n\tconst [openEr,setOpenErase] = useState(false); // состояние dropdown кисти\r\n\tconst [openBr,setOpenBrush] = useState(false); // состояние dropdown ластика\r\n\tconst [brushVal, setBrushVal] = useState(10); // состояние размера кисти\r\n\tconst [eraseVal, setEraseVal] = useState(20); // состояние размера ластика\r\n  \t//const [navState, setNavState] = useState(false)\r\n\tconst [color, setColor] = useState(\"#aabbcc\"); //состояние палитры\r\n\t\r\n\tfunction dragStartHandler(e) {\r\n    \te.preventDefault();\r\n    \tsetDrag(true); \r\n  \t};\r\n\r\n  \tfunction dragLeaveHandler(e) {\r\n    \te.preventDefault();\r\n    \tsetDrag(false); \r\n  \t}\r\n\r\n  \tfunction onDropHandler(e) {\r\n    \te.preventDefault();\r\n    \tlet files = [...e.dataTransfer.files];\r\n    \tconsole.log(files);\r\n    //const formData = new FormData();\r\n    //formData.append('file', files[0]);\r\n    //formData.append('userId', 1);\r\n    //axios.post('url', formData);\r\n    \tsetDrag(false); \r\n  \t}\r\n\r\n\t \r\n\tfunction getImage(canvas){\r\n    \tlet imageData = canvas.toDataURL();\r\n    \tlet image = new Image();\r\n    \timage.src = imageData;\r\n\t\timage.crossOrigin = 'Anonymous'\r\n    \treturn image;\r\n\t}\r\n\r\n    window.addEventListener(\"load\", function onWindowLoad(){\r\n\t\tdocument.querySelector('.authWindow').style.display = 'none';\r\n        const canvasBg = document.getElementById(\"bg\");\r\n        const ctxBg = canvasBg.getContext(\"2d\");\r\n        const canvasFg = document.getElementById(\"fg\");\r\n        const ctxFg = canvasFg.getContext(\"2d\");\r\n\t\tconst canvasSave = document.getElementById(\"readyimg\");\r\n\t\tconst ctxSave = canvasSave.getContext('2d'); \r\n\t\t\r\n\t\tconst img = new Image();\r\n\t    img.src = myimg;\r\n        img.addEventListener('load', function(){\r\n            ctxBg.canvas.width  = img.width;\r\n\t\t\tctxBg.canvas.height = img.height;\r\n\t\t\tctxFg.canvas.width  = img.width;\r\n\t\t\tctxFg.canvas.height = img.height;\r\n\t\t\tctxSave.canvas.width  = img.width;\r\n\t\t\tctxSave.canvas.height = img.height;\r\n\t\t\tctxBg.drawImage(img, 0, 0);\r\n\t\t\r\n\t\t\t\r\n\t\t});\r\n\t\r\n\t\t//ctxBg.canvas.width  = window.innerWidth;\r\n        //ctxBg.canvas.height = window.innerHeight;\r\n\r\n\t\t//чтобы отключить сглаживание изображения\r\n\t\tctxBg.webkitImageSmoothingEnabled = false;\r\n\t\tctxBg.msImageSmoothingEnabled = false;\r\n\t\tctxBg.imageSmoothingEnabled = false;\r\n        \r\n\t\tlet points = [];\r\n      \t\t\r\n        //ctxFg.canvas.width  = window.innerWidth;\r\n    \t//ctxFg.canvas.height = window.innerHeight;\r\n\t\t\r\n\t\tlet mouseX = 0;\r\n\t\tlet mouseY = 0;\r\n\t\tlet isDrawing = false;\r\n\r\n\t\tconst setMouseCoordinates = (e) => {\r\n\t\t\tmouseX = e.offsetX;\r\n\t\t\tmouseY = e.offsetY;\r\n\t\t};\r\n\r\n\t\tconst mouseDown = (e) => {\r\n\t\t\tsetMouseCoordinates(e);\r\n\t\t\tisDrawing = true;\r\n\t\t\tctxFg.beginPath();\r\n\t\t\tctxFg.moveTo(mouseX, mouseY);\r\n\t\t\t\r\n\t\t\tpoints.push({\r\n\t\t\tx: mouseX,\r\n\t\t\ty: mouseY,\r\n\t\t\tmode: \"begin\"\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tconst mouseMove = (e) => {\r\n\t\t\tsetMouseCoordinates(e);\r\n\t\t\tif(isDrawing){\r\n\t\t\t\tctxFg.lineTo(mouseX, mouseY);\r\n\t\t\t\tctxFg.stroke();\r\n\t\t\t\t   points.push({\r\n\t\t\t\t\tx: mouseX,\r\n\t\t\t\t\ty: mouseY,\r\n\t\t\t\t\tmode: \"draw\"\r\n\t\t\t\t});\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst mouseUp = (e) => {\r\n\t\t\tsetMouseCoordinates(e);\r\n\t\t\tisDrawing = false;\r\n\t\t\t\r\n\t\t\tpoints.push({\r\n\t\t\t\tx: mouseX,\r\n\t\t\t\ty: mouseY,\r\n\t\t\t\tmode: \"end\"\r\n\t\t\t});\r\n\t\t}\r\n\t\t// Обработчики рисования мышкой\r\n\t\tconst brushFunc = () => {\r\n\t\t\tctxFg.globalCompositeOperation = \"source-over\";\r\n\t\t\t//canvasFg.removeEventListener('click',mouseCoordEvent);\r\n\t\t\tcanvasFg.addEventListener('mousedown', mouseDown);\r\n\t\t\tcanvasFg.addEventListener('mousemove', mouseMove);\r\n\t\t\tcanvasFg.addEventListener('mouseup', mouseUp);\r\n\t\t}\r\n\t\tlet coord = [];\r\n\r\n\t\tconst removeListeners = () => {\r\n\t\t\tctxFg.globalCompositeOperation = \"source-over\";\r\n\t\t\tcanvasFg.removeEventListener('mousedown', mouseDown);\r\n\t\t\tcanvasFg.removeEventListener('mousemove', mouseMove);\r\n\t\t\tcanvasFg.removeEventListener('mouseup', mouseUp);\r\n\t\t}\r\n\r\n\t\t// функция рисования треугольника\r\n\t\tconst triangleFunc = () => {\r\n\t\t\tremoveListeners();\r\n\t\t\tcanvasFg.addEventListener('click', mouseTriCoordEvent);\r\n\t\t}\r\n\r\n\t\tconst rectFunc = () => {\r\n\t\t\tremoveListeners();\r\n\t\t\tcanvasFg.addEventListener('click', mouseRectCoordEvent);\r\n\t\t}\r\n\t\tconst circleFunc = () => {\r\n\t\t\tremoveListeners();\r\n\t\t\tcanvasFg.addEventListener('click', mouseCircleCoordEvent);\r\n\t\t}\r\n\r\n\r\n\t\tconst mouseTriCoordEvent = (e) => {\r\n\t\t\tconsole.log(coord);\r\n\t\t\tsetMouseCoordinates(e);\r\n\t\t\tcoord.push({\r\n\t\t\t\tx: mouseX,\r\n\t\t\t\ty: mouseY,\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (coord.length === 3) {\r\n\t\t\t\tisDrawing = true;\r\n\t\t\t\tctxFg.beginPath();\r\n\t\t\t\tctxFg.moveTo(coord[0]['x'], coord[0]['y']);\r\n\t\t\t\tctxFg.lineTo(coord[1]['x'], coord[1]['y']);\r\n\t\t\t\tctxFg.lineTo(coord[2]['x'], coord[2]['y']);\r\n\t\t\t\tctxFg.closePath();\r\n\t\t\t\tctxFg.stroke();\r\n\t\t\t\tisDrawing = false;\r\n\t\t\t\tcanvasFg.removeEventListener('click',mouseTriCoordEvent);\r\n\t\t\t\tcoord.length = 0;\r\n\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst mouseRectCoordEvent = (e) => {\r\n\t\t\tconsole.log(coord);\r\n\t\t\tsetMouseCoordinates(e);\r\n\t\t\tcoord.push({\r\n\t\t\t\tx: mouseX,\r\n\t\t\t\ty: mouseY,\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (coord.length === 2) {\r\n\t\t\t\tisDrawing = true;\r\n\t\t\t\tconst rectWidth = Math.abs(coord[1]['x'] - coord[0]['x']);\r\n\t\t\t\tconst rectHeight = Math.abs(coord[1]['y'] -  coord[0]['y']);\r\n\t\t\t\tctxFg.strokeRect(coord[0]['x'],coord[0]['y'],rectWidth,rectHeight);\r\n\t\t\t\tisDrawing = false;\r\n\t\t\t\tcanvasFg.removeEventListener('click',mouseRectCoordEvent);\r\n\t\t\t\tcoord.length = 0;\r\n\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst mouseCircleCoordEvent = (e) => {\r\n\t\t\tconsole.log(coord);\r\n\t\t\tsetMouseCoordinates(e);\r\n\t\t\tcoord.push({\r\n\t\t\t\tx: mouseX,\r\n\t\t\t\ty: mouseY,\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (coord.length === 2) {\r\n\t\t\t\tisDrawing = true;\r\n\t\t\t\tconst radius = Math.abs(coord[1]['x'] -  coord[0]['x']);\r\n\t\t\t\tctxFg.beginPath();\r\n\t\t\t\tctxFg.arc(coord[0]['x'],coord[0]['y'],radius,0, 2*Math.PI, false);\r\n\t\t\t\tctxFg.closePath();\r\n\t\t\t\tctxFg.stroke();\r\n\t\t\t\tisDrawing = false;\r\n\t\t\t\tcanvasFg.removeEventListener('click',mouseCircleCoordEvent);\r\n\t\t\t\tcoord.length = 0;\r\n\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\t\tconst triangleBtn = document.getElementById('triangleBtn');\r\n\t\ttriangleBtn.addEventListener('click', triangleFunc);\r\n\r\n\t\tconst rectBtn = document.getElementById('rectBtn');\r\n\t\trectBtn.addEventListener('click', rectFunc);\r\n\t\t\r\n\t\tconst circleBtn = document.getElementById('circleBtn');\r\n\t\tcircleBtn.addEventListener('click', circleFunc);\r\n\t\t\r\n\t\tconst brushBtn = document.getElementById('mybrushBtn');\r\n\t\tbrushBtn.addEventListener('click', brushFunc);\r\n\t\t\r\n\t\t//переключение режима кисти на ластик\r\n\t\tconst eraseBtn = document.getElementById('eraseBtn');\r\n\t\teraseBtn.addEventListener('click', () => {\t\r\n\t\t\t//canvasFg.removeEventListener('click',mouseCoordEvent);\r\n\t\t\tcanvasFg.addEventListener('mousedown', mouseDown);\r\n\t\t\tcanvasFg.addEventListener('mousemove', mouseMove);\r\n\t\t\tcanvasFg.addEventListener('mouseup', mouseUp);\r\n\t\t\tctxFg.globalCompositeOperation = 'destination-out';\r\n\t\t})\r\n\r\n\t\t\r\n    });\r\n\r\n\t// функция изменяющая размер кисти через ползунок\r\n\tconst changeBrushSize = () => {\r\n\t\tconst canvasFg = document.getElementById(\"fg\");\r\n\t\tconst ctxFg = canvasFg.getContext(\"2d\");\r\n\t\tconst brushInp = document.getElementById('brushSize');\r\n\t\tsetBrushVal(brushInp.value);\r\n\t\tctxFg.lineWidth = brushVal;\r\n\t}\r\n\t// функция изменяющая размер ластика через ползунок\r\n\tconst changeEraseSize = () => {\r\n\t\tconst canvasFg = document.getElementById(\"fg\");\r\n\t\tconst ctxFg = canvasFg.getContext(\"2d\");\r\n\t\tconst eraseInp = document.getElementById('eraseSize');\r\n\t\tsetEraseVal(eraseInp.value);\r\n\t\tctxFg.lineWidth = eraseVal;\r\n\t}\r\n\r\n\t// функция изменения цвета кисти\r\n\tconst changeBrushColor = () => {\r\n\t\tconst canvasFg = document.getElementById(\"fg\");\r\n\t\tconst ctxFg = canvasFg.getContext(\"2d\");\r\n\t\tctxFg.strokeStyle = color;\r\n\t}\r\n\t//сохранение изображения\r\n\tconst saveImage = (image) => {\r\n\t\tvar link = document.createElement(\"a\");\r\n\t \r\n\t\tlink.setAttribute(\"href\", image.src);\r\n\t\tlink.setAttribute(\"download\", \"canvasImage\");\r\n\t\tlink.click();\r\n\t}\r\n\r\n\tconst saveImgBtn = () =>{\r\n\t\tconst canvasSave = document.getElementById(\"readyimg\");\r\n\t\tconst canvasFg = document.getElementById(\"fg\");\r\n\t\tconst canvasBg = document.getElementById(\"bg\");\r\n\t\tconst img1 = getImage(canvasBg);\r\n\t\tconst img2 = getImage(canvasFg);\r\n\t\tconst ctx = canvasSave.getContext('2d');\r\n\t\timg1.onload = () => {\r\n\t\t\tctx.drawImage(img1,0,0)\r\n\t\t\timg2.onload = () => {\r\n\t\t\t   ctx.drawImage(img2,0,0);\r\n\t\t\t   let img3 = getImage(canvasSave);\r\n\t\t\t   saveImage(img3);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n    return (\r\n        <div>\r\n\t\t\t<MySideNav>\r\n          \t\t<NavItem className=\"navItem\" onClick = {() => setLoadModalActive(true)}>\r\n            \t\t<NavIcon><img className='icon1' alt='icon1' src={iconLoad}></img></NavIcon>\r\n\t\t\t\t\t<NavText>Загрузить</NavText>\r\n\t\t\t\t</NavItem>\r\n            \t\r\n\t\t\t\t<NavItem onClick={saveImgBtn}>\r\n\t\t\t\t\t<NavIcon><img alt='save' src={iconSave}></img></NavIcon>\r\n\t\t\t\t\t<NavText>Сохранить</NavText>\r\n\t\t\t\t</NavItem>\r\n\r\n            \t<NavItem className=\"navItem\" id=\"mybrushBtn\"  onClick = {() => setBrushModalActive(true)}>\r\n\t\t\t\t\t<NavIcon><img alt='Brush' src={iconBrush}></img></NavIcon>\r\n\t\t\t\t\t<NavText>Кисть</NavText>\r\n\t\t\t\t</NavItem>\r\n\t\t\t\t<NavItem className=\"navItem\" id=\"eraseBtn\" onClick = {() => setEraseModalActive(true)}>\r\n\t\t\t\t\t<NavIcon><img alt='Eraser' src={iconEraser}></img></NavIcon>\r\n\t\t\t\t\t<NavText>Ластик</NavText>\r\n\t\t\t\t</NavItem>\r\n\t\t\t\t\r\n\t\t\t\t<NavItem className=\"navItem\" id='rectBtn'>\r\n            \t\t<NavIcon><img className='icon1' alt='rect' src={iconRect}></img></NavIcon>\r\n\t\t\t\t\t<NavText>Прямоугольник</NavText>\r\n\t\t\t\t</NavItem>\r\n\r\n\t\t\t\t<NavItem className=\"navItem\" id='triangleBtn'>\r\n            \t\t<NavIcon><img className='icon1' alt='triangle' src={iconTri}></img></NavIcon>\r\n\t\t\t\t\t<NavText>Треугольник</NavText>\r\n\t\t\t\t</NavItem>\r\n\t\t\t\t\r\n\t\t\t\t<NavItem className=\"navItem\" id='circleBtn'>\r\n            \t\t<NavIcon><img className='icon1' alt='circle' src={iconCircle}></img></NavIcon>\r\n\t\t\t\t\t<NavText>Круг</NavText>\r\n\t\t\t\t</NavItem>\r\n\r\n\t\t\t\t<NavItem className=\"navItem\" id='rotateBtn' onClick = {() => setRotateModalActive(true)}>\r\n            \t\t<NavIcon><img className='icon1' alt='rotate' src={iconCircle}></img></NavIcon>\r\n\t\t\t\t\t<NavText>Поворот</NavText>\r\n\t\t\t\t</NavItem>\r\n\r\n\t\t\t\t<NavItem className=\"navItem\" id='cropBtn'>\r\n            \t\t<NavIcon><img className='icon1' alt='crop' src={iconCircle}></img></NavIcon>\r\n\t\t\t\t\t<NavText>Обрезка</NavText>\r\n\t\t\t\t</NavItem>\r\n        \t</MySideNav>  \r\n        \r\n            <form id=\"form\" action=\"\" method=\"post\">\r\n\t            <div className=\"paint-canvas\"  onMouseOver = {() => {setOpenBrush(false); setOpenErase(false)}} >\r\n\t\t            <canvas id='bg' className={classes.cnvs_bg}></canvas>\r\n\t\t\t\t\t<canvas id='fg' className={classes.cnvs_fg}></canvas>\r\n\t\t\t\t\t<canvas id='readyimg' className={classes.cnvs_save}></canvas>\r\n\t\t            <input id=\"canvas_img\" type=\"hidden\" name=\"canvas_img\" value=\"\"/>\r\n\t            </div>\r\n            </form>\r\n\t\t\t<Modal active={loadModalActive} setActive={setLoadModalActive}>\r\n          \t\t<Form action=\"/fileload\" encType=\"multipart/form-data\" method=\"post\">\r\n            \t\t<FormGroup>\r\n              \t\t\t<Label for=\"loadFile\">\r\n                \t\tЗагрузите файл\r\n              \t\t\t</Label>\r\n              \t\t\t<Input\r\n                \t\tid=\"loadFile\"\r\n                \t\tname=\"uploadedFile\"\r\n                \t\ttype=\"file\"\r\n              \t\t\t/>\r\n\t\t\t\t\t\t<Button>\r\n    \t\t\t\t\t\tЗагрузить\r\n  \t\t\t\t\t\t</Button>\r\n            \t\t</FormGroup>\r\n          \t\t</Form>\r\n          \t<div className=\"text-between\">или</div>\r\n          \t{drag\r\n          \t? <div className=\"drop-area\"\r\n              onDragStart={e => dragStartHandler(e)}\r\n              onDragLeave={e => dragLeaveHandler(e)}\r\n              onDragOver={e => dragStartHandler(e)}\r\n              onDrop={e => onDropHandler(e)}\r\n            >Отпустите файл</div>\r\n          \t: <div className=\"drop-area\"\r\n              onDragStart={e => dragStartHandler(e)}\r\n              onDragLeave={e => dragLeaveHandler(e)}\r\n              onDragOver={e => dragStartHandler(e)}\r\n            >Перетащите файл сюда\r\n            </div>\r\n        \t}\r\n        \t</Modal>\r\n\t\t\t<Modal active={rotateModalActive} setActive={setRotateModalActive}>\r\n          \t\t<Button ><img src=\"\" alt=\"rotateOnClock\" /></Button>\r\n        \t</Modal>\r\n\t\t\t<Modal active={brushModalActive} setActive={setBrushModalActive}>\r\n\t\t\t<div>Размер</div>\r\n\t\t\t<Input\r\n      \t\t\t\t\t\t\t\t\tid=\"brushSize\"\r\n      \t\t\t\t\t\t\t\t\tname=\"range\"\r\n      \t\t\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\t\t\t\tmin=\"0\" \r\n\t\t\t\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={changeBrushSize}\r\n\t\t\t\t\t\t\t\t\t\tvalue={brushVal}\r\n    \t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div>Цвет</div> \r\n\t\t\t\t\t\t\t\t\t<HexColorPicker color={color} onChange={setColor}/>\r\n\t\t\t\t\t\t\t\t\t<Button onClick={changeBrushColor}>Поменять цвет</Button>\t\r\n\t\t\t\t\t\t\r\n        \t</Modal>\r\n\t\t\t<Modal active={eraseModalActive} setActive={setEraseModalActive}>\r\n\t\t\t <div>Размер</div>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n      \t\t\t\t\t\t\t\t\tid=\"eraseSize\"\r\n      \t\t\t\t\t\t\t\t\tname=\"range\"\r\n      \t\t\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\t\t\t\tmin=\"0\" \r\n\t\t\t\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={changeEraseSize}\r\n\t\t\t\t\t\t\t\t\t\tvalue={eraseVal}\r\n    \t\t\t\t\t\t\t\t/>\t\r\n\t\t\t\t\t\t\r\n        \t</Modal>\r\n\t\t</div>  \r\n      );\r\n  }\r\n  \r\n  export default MyCanvas;","import './App.css';\nimport MyCanvas from './Components/MyCanvas';\nimport { BrowserRouter as Router, Routes, Route}\n    from 'react-router-dom';\n\nimport { Form, FormGroup, Label, FormFeedback, FormText, Input, Button } from 'reactstrap';\n\nconst App = () => {\n    \n  return ( \n      <div className = \"App\">\n        <div className='authWindow'>\n          <Form id=\"auth\">\n            <FormGroup>\n              <Label for=\"exampleEmail\">\n                Email\n              </Label>\n              <Input\n                id=\"exampleEmail\"\n                name=\"email\"\n                placeholder=\"Ваша почта\"\n                type=\"email\"\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"examplePassword\">\n                Пароль\n              </Label>\n              <Input\n                id=\"examplePassword\"\n                name=\"password\"\n                placeholder=\"Ваш пароль\"\n                type=\"password\"\n              />\n            </FormGroup>\n            <Button id=\"login\" >\n              <a href='/canvas'>Войти</a>\n            </Button>\n          </Form>\n        </div>\n        <Router>\n          <Routes>\n            <Route path='/canvas' element={<MyCanvas />} />\n          </Routes>\n        </Router>\n      </div>\n    );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render( \n  <React.StrictMode >\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}